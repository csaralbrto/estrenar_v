<div class="row columns">
    <h1>Herramientas</h1>
    <p>Te ofrecemos calculadoras para su búsqueda de vivienda nueva</p><br>
</div>
<!--simuladores-->
<div class="row columns">
    <div class="simuladores">
        <ul class="tabs hide-for-small-only" data-tabs id="simuladores">
            <li class="tabs-title tool is-active">
                <a data-tabs-target="panel2" href="#panel2">Simulador subsidio de vivienda</a>
            </li>
            <li class="tabs-title tool">
                <a data-tabs-target="panel3" href="#panel3">Simulador cuota inicial</a>
            </li>
            <li class="tabs-title tool">
                <a href="#panel1" aria-selected="true">Simulador capacidad endeudamiento</a>
            </li>
            <li class="tabs-title tool">
                <a data-tabs-target="panel4" href="#panel4">Simulador credito de vivienda</a>
            </li>
        </ul>
        <div class="tabs-content" data-tabs-content="simuladores">
            <form [formGroup]="form">
                <div class="tabs-panel cuota" id="panel1">
                    <div class="container-form">
                        <div class="row">
                            <div class="medium-5 medium-offset-3 columns text-center">
                                <p> Tus ingresos mensuales</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" (change)="change(form.value,'capacidad_endeudamiento')" formControlName="ingresos_mensuales_endudamiento" name="ingresos_mensuales_endudamiento" type="number"><br>
                                </div>
                                <p style="font-size: 11px;">Ingresa el monto sin puntos ni comas</p>
                            </div>
                            <div class="medium-4 columns text-center campo-destacado">
                                <p>Segun tus ingresos, podrías recibir un prestamo por:</p>
                                <input type="text" readonly formControlName="prestamo_endudamiento" name="prestamo_endudamiento" value="$ {{ prestamo_endeudamiento | number }}">
                                <hr>
                                <p> Podrías comprar una vivienda de:</p>
                                <input type="text" readonly formControlName="vivienda_endudamiento" name="vivienda_endudamiento" value="$ {{ vivienda_endeudamiento | number }}">
                                <hr>
                                <a (click)="searchProjectByPrice(vivienda_endeudamiento)"  class="button secondary ">Ver proyectos afines</a>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="tabs-panel endeudamiento is-active" id="panel2">
                    <div class="container-form">
                        <div class="row">
                            <div class="medium-4 columns text-center"> 
                                <p> Cuentanos cuales son tus ingresos mensuales</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" type="number" formControlName="ingresos_mensuales_vivienda" name="ingresos_mensuales_vivienda" (change)="change(form.value,'subsidio_vivienda')">
                                </div>
                                <hr>
                                <p> Cuales son los ingresos mensuales de la persona con la que solicitarás el subsidio (opcional)</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" type="number" formControlName="ingresos_mensuales_persona_vivienda" name="ingresos_mensuales_persona_vivienda" (change)="change(form.value,'subsidio_vivienda')" value="0">
                                </div>
                                <hr>
                                <p> Los ingresos totales son:</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" readonly type="text" formControlName="ingresos_totales_vivienda" name="ingresos_totales_vivienda" value="$ {{ total_vivienda | number }}">
                                </div>
                                <hr>
                                <p class="small">
                                    * Los ingresos calculados son aproximados y varían dependiendo de la entidad, departamento, ciudad o municipio.
                                </p>
                        
                            </div>
                            <div class="medium-5 columns text-center campo-destacado">
                                <p> Con el total de ingresos puedes obtener un subsidio por:</p>
                                <input type="text" placeholder="" value ="{{ smmlv_vivienda }} SMMLV">
                                <hr>
                                <p> Equivalentes a:</p>
                                <input type="text" placeholder="" value="$ {{ subsidio_vivienda | number }}">
                                <a href="#" class="button secondary ">Más información</a>
                            </div>
                            <div class="medium-4 columns text-center">
                                <p> </p>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="tabs-panel" id="panel3">
                    <div class="container-form">
                        <div class="row">
                            <div class="medium-5 columns text-center">
                                <p> Si cuentas con ahorros para la cuota inicial, ingresa el valor</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" type="number" formControlName="ahorros_cuota" name="ahorros_cuota">
                                </div>
                                <hr>
                                <p> Si deseas incluir primas, ingresa el valor</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" type="number" formControlName="primas_cuota" name="primas_cuota">
                                </div>
                                <hr>
                                <p> Ingrese el valor del inmueble</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" type="number" formControlName="valor_inmueble_cuota" name="valor_inmueble_cuota">
                                </div>
                                <hr>
                        <div class="text-left">
                        <p>Escoje una de las dos opciones:</p>
                        <fieldset>
                        <div class="row">
                            <div class="medium-6 columns">
                                <label class="container-radio">Crédito hipotecario
                                    <input type="radio" formControlName="tipo_credito_cuota" name="tipo_credito_cuota" value="hipotecario">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                            <div class="medium-6 columns">
                            
                                <label class="container-radio">Leasing habitacional
                                    <input type="radio" formControlName="tipo_credito_cuota" name="tipo_credito_cuota" value="leasing">
                                    <span class="checkmark"></span>
                                </label> 
                            </div>
                        </div>
                        </fieldset>
                        </div>
                            </div>
                            <div class="medium-3 columns text-center campo-destacado">
                                <p> Fecha estimada de entrega</p>
                                <input type="text" formControlName="fecha_cuota" name="fecha_cuota" type="date" placeholder="MM - AAAA">
                                <hr>
                                <p> Plazo actual para cuota inicial</p>
                                <input type="text" placeholder="No. meses">

                            </div>
                            <div class="medium-4 columns text-center">
                                <p> Simulación</p>
                                <div class="container-simulacion">
                                    <div class="row text-left">
                                        <div class="medium-12 columns">
                                            <div class="item">Valor del inmueble: <span>$ {{ valorInmuebleCuota | number }}</span></div>
                                            <div class="item">Cuota inicial: <span>$ {{ valorCuotaInicial | number }}</span></div>
                                            <div class="item">Ahorros y primas: <span>$ {{ valorAhorroCuota | number }}</span></div>
                                            <div class="item">Saldo a diferir: <span>$ {{ saldoDiferirCuota | number }}</span></div>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="simulacion">
                                        <div class="row">
                                            <div class="columns">
                                            <table class="stack">
                                                <thead>
                                                    <tr>
                                                        <th width="100">Cuota #</th>
                                                        <th width="100">Fecha</th>
                                                        <th width="150">Valor</th>
                                                        <th width="150">Saldo</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let cuota of cuotasMensuales; let i = index">
                                                        <td>{{ cuota.count }}</td>
                                                        <td>{{ cuota.date }}</td>
                                                        <td>$ {{ cuota.value_cuota | number }}</td>
                                                        <td>$ {{ cuota.saldo | number }}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="medium-12 columns text-center">
                                <a (click)="clickInfo(form.value)" class="button secondary ">Simular</a>


                            </div>
                        </div>
                    </div>
                </div>
                <div class="tabs-panel credito" id="panel4">
                    <div class="container-form">
                        <div class="row">
                            <div class="medium-4 medium-offset-2 columns text-center">
                                <p> Valor de la vivienda a financiar</p>
                                <div class="input-group">
                                    <span class="input-group-label">$</span>
                                    <input class="input-group-field" type="number" formControlName="valor_vivienda_credito" name="valor_vivienda_credito">
                                </div>
                                <hr>
                                <p> Plazo de financiamiento (meses)</p>
                                <div class="slider white" data-slider data-initial-start="50">
                                    <span class="slider-handle"  data-slider-handle role="slider" tabindex="1" aria-controls="sliderOutput1"></span>
                                    <span class="slider-fill" data-slider-fill></span>
                                </div>
                                <div><input type="number" formControlName="plazo_credito" name="plazo_credito" id="sliderOutput1"></div>
                                <hr>
                        <div class="text-left">
                        <p>Escoje una de las dos opciones:</p>
                        <fieldset>
                        <div class="row">
                            <div class="medium-6 columns">
                                <label class="container-radio">Crédito hipotecario
                                    <input type="radio" formControlName="tipo_credito_credito" name="tipo_credito_credito" (change)="change(form.value,'credito_vienda')" value="hipotecario">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                            <div class="medium-6 columns">
                                <label class="container-radio">Leasing habitacional
                                    <input type="radio" formControlName="tipo_credito_credito" name="tipo_credito_credito" (change)="change(form.value,'credito_vienda')" value="leasing">
                                    <span class="checkmark"></span>
                                </label> 
                            </div>
                        </div>
                        </fieldset>
                        <p class="small">
                            * Los ingresos calculados son aproximados y varían dependiendo de la entidad, departamento, ciudad o municipio.
                        </p>
                        </div>
                            </div>
                            <div class="medium-4 columns text-center end">
                                <p>Calculo aproximado para poder adquirir tu vivienda:</p>
                                <div class="row calculo" data-equalizer data-equalize-on="medium" id="test-eq">
                                    <div class="medium-6 columns">
                                            <div class="container-calc" data-equalizer-watch>
                                                <div class="value">
                                                    $ {{ monto_prestamo_credito | number }}
                                                </div>
                                                <div class="caracteristica">
                                                    Monto prestamo
                                                </div>
                                            </div>
                                    </div>
                                    <div class="medium-6 columns">
                                        <div class="container-calc" data-equalizer-watch>
                                            <div class="value">
                                                $ {{ cuota_inicial_vivienda_credito | number }}
                                            </div>
                                            <div class="caracteristica">
                                                Cuota inicial {{ cuota_inicial_porcentaje_vivienda_credito }}
                                            </div>
                                        </div>
                                </div>
                                <div class="medium-6 columns">
                                    <div class="container-calc" data-equalizer-watch>
                                        <div class="value">
                                            $ {{ ingresos_mensuales_min_credito | number }}
                                        </div>
                                        <div class="caracteristica">
                                            Ingresos minimos mensuales
                                        </div>
                                    </div>
                            </div>
                            <div class="medium-6 columns">
                                <div class="container-calc" data-equalizer-watch>
                                    <div class="value">
                                        {{ plazo_meses_credito }}
                                    </div>
                                    <div class="caracteristica">
                                        Plazo en meses
                                    </div>
                                </div>
                        </div>
                        <div class="medium-6 columns">
                            <div class="container-calc" data-equalizer-watch>
                                <div class="value">
                                    % {{ tasa_de_interes_credito }}
                                </div>
                                <div class="caracteristica">
                                    Tasa de interés
                                </div>
                            </div>
                    </div>
                    <div class="medium-6 columns">
                        <div class="container-calc" data-equalizer-watch>
                            <div class="value">
                                $ {{ cuota_mensual_credito | number }}
                            </div>
                            <div class="caracteristica">
                                Cuota mensual
                            </div>
                        </div>
                </div>
                                </div>
                                <a (click)="searchProjectByPrice(monto_prestamo_credito)" class="button secondary ">Ver proyectos afines</a>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<hr class="white">
<!--fin simuladores-->
<div class="row columns" data-equalizer data-equalize-on="medium" id="test-eq">
    <h1 class="deco text-center">Proyectos de interés</h1>
    <div class="medium-3 columns end" *ngFor="let project of response; let i = index">
        <div class="card" data-equalizer-watch *ngIf="i < 8">
            <div class="container-photo">
                <a href="proyecto.php" class=""><img [src]="url_img_path + project.typology_images" alt="" class="proyecto"></a>
                <div class="container-tools">
                    <div class="tags">
                      <div  *ngIf="project.project_category.length > 0">
                          <div class="tag" *ngFor="let tags of project.project_category; let i = index">
                              <a>{{ tags }}</a>
                          </div>
                      </div>
                    </div>
                    <div class="add">
                        <a href="#" class="fav"><img src="/assets/images/add.png" alt=""></a>
                    </div>
                </div>
            </div>
            <div class="card-section">
              <h2>{{ project.project }}</h2>
                <div class="descripcion">
                  {{ project.project_city }},
                  {{ project.project_zone }},
                  {{ project.project_neighborhood }}
                </div>
                <div class="precio text-center">
                    <div>Desde:</div>
                    <span>{{ project.typology_price | number }}</span>
                </div>
                <hr>
            </div>
            <div class="card-section">
                <div class="row">
                    <div class="small-6 columns">
                        <div class="item">
                            <div class="data-icon"><img src="/assets/images/icon-medida.png" alt=""></div>
                            <div class="data"> {{ project.area_built }} m</div>
                        </div>
                    </div>
                    <div class="small-6 columns">
                        <div class="item">
                            <div class="data-icon"><img src="/assets/images/icon-alcoba.png" alt=""></div>
                            <div class="data"> {{ project.bathrooms }} alcobas</div>
                        </div>
                    </div>
                    <div class="small-6 columns">
                        <div class="item">
                            <div class="data-icon"><img src="/assets/images/icon-garaje.png" alt=""></div>
                            <div class="data"> garajes {{ project.garages }}</div>
                        </div>
                    </div>
                    <div class="small-6 columns">
                        <div class="item">
                            <div class="data-icon"><img src="/assets/images/icon-water.png" alt=""></div>
                            <div class="data"> {{ project.bedrooms }} baños</div>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
            <div class="card-section">
              <div class="button-group align-spaced ">
                <a class="button" routerLink="{{project.url}}">Ver
                    Proyecto</a>
                  <a class="button">Contacto</a>
                </div>
            </div>
        </div>
    </div>
</div>
<hr class="white">
<div class="row columns text-center">
    <a href="proyectos" class="button secondary">Ver más proyectos</a>
</div>
<hr class="white">
<div class="row columns">
    <h2 class="deco text-center">Artículos de interés</h2>
    <div class="container-blog">
            <div class="medium-3 columns" *ngFor="let mostRead of responseMostRead; let i = index">
                <div class="blog-list" *ngIf="i < 4">
                    <div class="img">
                      <img [src]="url_img_path + mostRead.article_image" alt="">
                    </div>
                    <div class="social">
                        <div class="comment"><img src="/assets/images/comment.png" alt=""><span>2</span>
                        </div>
                        <div class="like"><img src="/assets/images/like.png" alt=""><span>5</span></div>
                    </div>

                    <div class="section"><a routerLink="/blog/{{mostRead.url}}">{{ mostRead.article_type }}</a></div>
                    <h3><a routerLink="/blog/{{mostRead.url}}">{{ mostRead.title.slice(0,90) }}</a></h3>
                    <div class="resumen">
                        <p [innerHTML]=mostRead.description.slice(0,120)+stringText></p>
                    </div>
                    <a routerLink="{{mostRead.url}}" class="button">Seguir leyendo</a>
                </div>
            </div>

    </div>
</div>
<hr class="white">